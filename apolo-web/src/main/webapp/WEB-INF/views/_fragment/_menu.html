<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
</head>
<body th:fragment="menu">


<div id="nav-col" sec:authorize="isAuthenticated()">
    <section id="col-left" class="col-left-nano">
        <div id="col-left-inner" class="col-left-nano-content">
            <div id="user-left-box" class="clearfix hidden-sm hidden-xs dropdown profile2-dropdown">
                <img th:if="${#authentication.systemUser.pictureGeneratedName != null}
                                and ${#authentication.systemUser.pictureGeneratedName != ''}"
                     th:src="@{|/${#authentication.systemUser.dbTenant.url}/uploadedfiles/User/${#authentication.systemUser.id}/${#authentication.systemUser.pictureGeneratedName}|}"
                        />
                <div class="user-box">
                    <span class="name">
                        <span th:text="${#authentication.systemUser.name}">
                            #authentication.systemUser.name}
                        </span>
                    </span>
                </div>
            </div>
            <div class="collapse navbar-collapse navbar-ex1-collapse" id="sidebar-nav">
                <ul class="nav nav-pills nav-stacked">
                    <li class="nav-header nav-header-first hidden-sm hidden-xs" th:text="#{menu.sysadmin}">
                        menu.sysadmin
                    </li>
                    <li sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_USER_LIST', 'ROLE_USER_MANAGER',
                                'ROLE_USER_CREATE', 'ROLE_USER_CUSTOM_FIELD_LIST', 'ROLE_USER_CUSTOM_FIELD_CREATE')">
                        <a href="#" class="dropdown-toggle">
                            <i class="icon fa fa-users"></i>
                            <span th:text="#{menu.sysadmin.user}">
                                menu.sysadmin.user
                            </span>
                            <i class="fa fa-angle-right drop-icon"></i>
                        </a>
                        <ul class="submenu">
                            <li>
                                <a sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_USER_LIST')"
                                   th:href='@{|/${#authentication.systemUser.tenant.url}/user/list|}'>
                                    <i class="icon fa fa-list"></i>
                                    <span th:text="#{user.list}">user.list</span>
                                </a>
                            </li>

                            <li>
                                <a sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_USER_MANAGER')"
                                   th:href='@{|/${#authentication.systemUser.tenant.url}/user/list-locked|}'>
                                    <i class="icon fa fa-user-secret"></i>
                                    <span th:text="#{user.list.locked}">user.list.locked</span>
                                </a>
                            </li>

                            <li>
                                <a sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_USER_CREATE')"
                                   th:href='@{|/${#authentication.systemUser.tenant.url}/user/new|}'>
                                    <i class="icon fa fa-user-plus"></i>
                                    <span th:text="#{user.new}">user.new</span>
                                </a>
                            </li>

                            <li>
                                <a sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_USER_CUSTOM_FIELD_LIST')"
                                   th:href='@{|/${#authentication.systemUser.tenant.url}/user-custom-field/list|}'>
                                    <i class="icon fa fa-list"></i>
                                    <span th:text="#{user.custom.field.list}">
                                        user.custom.field.list
                                    </span>
                                </a>
                            </li>

                            <li>
                                <a sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_USER_CUSTOM_FIELD_CREATE')"
                                   th:href='@{|/${#authentication.systemUser.tenant.url}/user-custom-field/new|}'>
                                    <i class="icon fa fa-plus"></i>
                                    <span th:text="#{user.custom.field.new}">user.custom.field.new</span>
                                </a>
                            </li>
                        </ul>
                    </li>

                    <li sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_TENANT_LIST', 'ROLE_TENANT_CREATE')">
                        <a href="#" class="dropdown-toggle">
                            <i class="icon fa fa-ship"></i>
                            <span class="menu-item" th:text="#{tenant}" >
                                tenant
                            </span>
                            <i class="fa fa-angle-right drop-icon"></i>
                        </a>
                        <ul class="submenu">
                            <li>
                                <a sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_TENANT_LIST')"
                                   th:href='@{|/tenant/list|}'>
                                    <i class="icon fa fa-list"></i>
                                    <span th:text="#{tenant.list}">tenant.list</span>
                                </a>
                            </li>

                            <li>
                                <a sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_TENANT_CREATE')"
                                   th:href='@{|/tenant/new|}'>
                                    <i class="icon fa fa-user-plus"></i>
                                    <span th:text="#{tenant.create}">tenant.create</span>
                                </a>
                            </li>
                        </ul>
                    </li>

                    <li sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_USER_PERMISSION_LIST', 'ROLE_USER_PERMISSION_CREATE')">
                        <a href="#" class="dropdown-toggle">
                            <i class="icon fa fa-arrows-alt"></i>
                            <span class="menu-item" th:text="#{menu.sysadmin.groups}" >
                                menu.sysadmin.groups
                            </span>
                            <i class="fa fa-angle-right drop-icon"></i>
                        </a>
                        <ul class="submenu">
                            <li>
                                <a sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_USER_PERMISSION_LIST')"
                                   th:href='@{|/${#authentication.systemUser.tenant.url}/user-group/list|}'>
                                    <i class="icon fa fa fa-list"></i>
                                    <span th:text="#{user.group.list}">user.group.list</span>
                                </a>
                            </li>

                            <li>
                                <a sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_USER_PERMISSION_CREATE')"
                                   th:href='@{|/${#authentication.systemUser.tenant.url}/user-group/new|}'>
                                    <i class="icon fa fa fa-plus"></i>
                                    <span th:text="#{user.group.new}">user.group.new</span>
                                </a>
                            </li>
                        </ul>
                    </li>

                    <li sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_CONFIGURATION_LIST', 'ROLE_CONFIGURATION_CREATE')">
                        <a href="#" class="dropdown-toggle">
                            <i class="icon fa fa-cog"></i>
                            <span class="menu-item" th:text="#{menu.sysadmin.config}" >
                                menu.sysadmin.config
                            </span>
                            <i class="fa fa-angle-right drop-icon"></i>
                        </a>
                        <ul class="submenu">
                            <li>
                                <a sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_CONFIGURATION_LIST')"
                                   th:href='@{|/${#authentication.systemUser.tenant.url}/configuration/list|}'>
                                    <i class="icon fa fa-list"></i>
                                    <span th:text="#{configuration.list}">configuration.list</span>
                                </a>
                            </li>

                            <li>
                                <a sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_CONFIGURATION_CREATE')"
                                   th:href='@{|/${#authentication.systemUser.tenant.url}/configuration/new|}'>
                                    <i class="icon fa fa-plus"></i>
                                    <span th:text="#{configuration.new}">configuration.new</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li sec:authorize="hasAnyRole('ROLE_ADMIN')">
                        <a sec:authorize="hasAnyRole('ROLE_ADMIN')"
                           th:href='@{|/${#authentication.systemUser.tenant.url}/auditlog/list|}'>
                            <i class="icon fa fa-list-alt"></i>
                            <span class="menu-item" th:text="#{auditlog.list}">auditlog.list</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </section>
</div>
</body>
</html>